# A6: Indexes, triggers, user functions and population

This artefact contains the physical schema of the database, the identification and characterisation of the indexes, the support of data integrity rules with triggers and the definition of the database user-defined functions. This artefact also contains the database's workload as well as the complete database creation script, including all SQL necessary to define all integrity constraints, indexes and triggers.

## 1. Database Workload
### 1.1. Tuple Estimation

| Relation reference | Relation Name    | Order of magnitude        | Estimated growth   |
| ------------------ | ---------------- | ------------------------- | ------------------ |
| R01                | UserTable        | hundreds                  | tens per month     |
| R02                | Task             | thousands                 | hundreds per month |
| R03                | Assigned         | thousands                 | hundreds per day   |
| R04                | EditTaskInfo     | tens                      | units per day      |
| R05                | CloseRequest     | thousands                 | hundreds per month |
| R06                | Tag              | tens                      | units per week     |
| R07                | Tagged           | thousands                 | hundreds per month |
| R08                | Comment          | thousands                 | hundreds per month |
| R09                | Project          | tens                      | units per month    |
| R10                | Joined           | hundreds                  | tens per month     |
| R11                | PremiumSignature | tens                      | units per month    |
| R12                | ForumPost        | hundreds                  | tens per week      |
| R13                | Reply            | thousands                 | tens per week      |
| R14                | Country          | hundreds                  | no growth          |
| R15                | Admin            | units                     | no growth          |
| R16                | BannedRecord     | tens                      | units per month    |

<!-- Orders of magnitude units tens hundreds thousands  -->

### 1.2. Frequent Queries

<table>
  <tr>
    <td><b>Query reference</b></td>
    <td><b>SELECT01</b></td>
  </tr>
  <tr>
    <td><b>Query description</b></td>
    <td><b>One sentence describing the query goal</b></td>
  </tr>
  <tr>
    <td><b>Query frequency</b></td>
    <td><b>magnitude per time</b></td>
  </tr>
  <tr>
    <td colspan =2>
    SQL Code
    </td>
  </tr>
</table>

### 1.3. Frequent Updates

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT01</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New user registered</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per month</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "UserTable" (username, password, email, name, gender, address,institution, description, birthDate, idCountry) VALUES ($username, $password, $email, $name, $gender, $address, $institution, $description, $birthDate, $idCountry);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT02</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New project created</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per month</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Project"(creationDate, name, description, private, idForum) VALUES ($creationDate, $name, $description, $private, $idForum);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT03</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New task created</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per month</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Task"(creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) VALUES ($creationDate, $lastEditDate, $title, $description, $deadline, $completed, $completedDate, $idUser, $idProject);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT04</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New comment created</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Comment"(creationDate, lastEditDate, content, idTask, idUser, idComment) VALUES ($creationDate, $lastEditDate, $content, $idTask, $idUser, $idComment);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT05</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New premium signature</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "PremiumSignature"(startDate, duration, idUser) VALUES ($startDate, $duration, $idUser);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT06</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New forum post</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "ForumPost"(creationDate, lastEditDate, title, content, idForum, idUser) VALUES ($creationDate, $lastEditDate, $title, $content, $idForum, $idUser);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT07</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New admin created</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Admin"(username, password, email) VALUES ($username, $password, $email);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT08</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>User assigned to task</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Assigned"(idUser, idTask) VALUES ($idUser, $idTask);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT09</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New close request</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per week</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "CloseRequest"(creationDate, title, description, approved, idUser, idTask) VALUES ($creationDate, $title, $description, $approved, $idUser, $idTask);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT10</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New reply created</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>dozens per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Reply"( creationDate, lastEditDate, content, idPost, idUser) VALUES ($creationDate, $lastEditDate, $content, $idPost, $idUser);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT11</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>New country inserted</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per week, mostly when the database is created</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Country"( name) VALUES ($name);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>INSERT12</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>User joined project</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Dozens per week</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">INSERT INTO "Joined"(idUser, idProject, joinedDate, role) VALUES ($idUser, $idProject, $joinedDate, $role);</code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE01</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update user information</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per month</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "UserTable"
            SET password = $password, email = $email, premium  = $premium, banned = $banned, name = $name, gender = $gender, address = $address, institution = $institution, description = $description, birthDate = $birthDate
            WHERE idUser = $idUser;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE02</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update project information</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per week</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "Project"
            SET name = $name, description = $description, private = $private
            WHERE idProject = $idProject;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE03</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update forum post</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "ForumPost"
            SET lastEditDate = $lastEditDate, title = $title, content = $content
            WHERE idPost = $idPost;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE04</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update task comment</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "Comment"
            SET lastEditDate = $lastEditDate, content = $content
            WHERE idComment = $idComment;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE05</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update task information</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "Task"
            SET lastEditDate = $lastEditDate, title = $title, description = $description, deadline = $deadline, completed = $completed, completionDate = $completionDate
            WHERE idTask = $idTask;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE06</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update close request information</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "CloseRequest"
            SET title = $title, description = $description, approved = $approved
            WHERE idRequest = $idRequest;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>UPDATE07</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Update admin information</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
        UPDATE "Admin"
            SET password = $password, email = $email
            WHERE idAdmin = $idAdmin;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE01</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete task</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM Task
         WHERE idTask = $idTask;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE02</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete task comment</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM Comment
         WHERE idComment = $idComment;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE03</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete project</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM Project
         WHERE idProject = $idProject;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE04</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete forum post</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM ForumPost
         WHERE idPost = $idPost;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE05</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete forum post reply</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM Reply
         WHERE idReply = $idReply;
        </code></td>
    </tr>
</table>

<table>
    <tr>
        <td><b>Query reference</b></td>
        <td>DELETE06</td>
    </tr>
    <tr>
        <td><b>Query description</b></td>
        <td>Delete user</td>
    </tr>
    <tr>
        <td><b>Query frequency</b></td>
        <td>Once per day</td>
    </td>
    <tr>
        <td><b>SQL Code</b></td>
        <td><code "sql">
         DELETE FROM User
         WHERE idUser = $idUser;
        </code></td>
    </tr>
</table>


## 2. Proposed Indices

### 2.1. Performance Indices

| Index reference | IDX01                                  |
| Related queries | SELECT01, ...                          |
| Index relation  | Relation where the index is applied    |
| Index attribute | Attribute where the index is applied   |
| Index type      | B-tree, Hash, GiST or GIN              |
| Cardinality     | Attribute cardinality: low/medium/high |
| Clustering      | Clustering of the index                |
| --------------- | -------------------------------------- |
| Justification   | Justification for the proposed index   |
| --------------- | -------------------------------------- |
| SQL code                                                 |


### 2.2. Full-text Search Indices

<table>
    <tbody>
    <tr>
    <td><b>Index reference<b></td>
    <td>IDX01</td>
    </tr>
    <tr>
    <td><b>Related queries</b></td>
    <td>TODO: RELATED QUERIES </td>
    </tr>
    <tr>
    <td><b>Index relation</b></td>
    <td>User</td>
    </tr>
    <tr>
    <td><b>Index attribute</b></td>
    <td>userName</td>
    </tr>
    <tr>
    <td><b>Index type</b></td>
    <td>GIN</td>
    </tr>
    <tr>
    <td><b>Clustering</b></td>
    <td>No</td>
    </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for usernames; GIN because usernames never changes.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
            CREATE INDEX search_username ON User USING GIN (to_tsvector('english', username))
            </code>
            </td>
        </tr>
    </tbody>
</table>

<table>
    <tbody>
        <tr>
        <td><b>Index reference<b></td>
        <td>IDX02</td>
        </tr>
        <tr>
        <td><b>Related queries</b></td>
        <td>TODO: RELATED QUERIES</td>
        </tr>
        <tr>
        <td><b>Index relation</b></td>
        <td>User</td>
        </tr>
        <tr>
        <td><b>Index attribute</b></td>
        <td>name</td>
        </tr>
        <tr>
        <td><b>Index type</b></td>
        <td>GIN</td>
        </tr>
        <tr>
        <td><b>Clustering</b></td>
        <td>No</td>
        </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for user full names; GIN because updates in user full names are rare.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
               CREATE INDEX search_user_name ON User USING GIN (to_tsvector('english', name))
            </code>
            </td>
        </tr>
    </tbody>
</table>

<table>
    <tbody>
        <tr>
        <td><b>Index reference<b></td>
        <td>IDX03</td>
        </tr>
        <tr>
        <td><b>Related queries</b></td>
        <td>TODO: RELATED QUERIES</td>
        </tr>
        <tr>
        <td><b>Index relation</b></td>
        <td>Project</td>
        </tr>
        <tr>
        <td><b>Index attribute</b></td>
        <td>name</td>
        </tr>
        <tr>
        <td><b>Index type</b></td>
        <td>GIN</td>
        </tr>
        <tr>
        <td><b>Clustering</b></td>
        <td>No</td>
        </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for project names; GIN because updates in the project name are rare.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
               CREATE INDEX search_project_name ON Project USING GIN (to_tsvector('english', name))
            </code>
            </td>
        </tr>
    </tbody>
</table>

<table>
    <tbody>
        <tr>
        <td><b>Index reference<b></td>
        <td>IDX03</td>
        </tr>
        <tr>
        <td><b>Related queries</b></td>
        <td>TODO: RELATED QUERIES</td>
        </tr>
        <tr>
        <td><b>Index relation</b></td>
        <td>Project</td>
        </tr>
        <tr>
        <td><b>Index attribute</b></td>
        <td>description</td>
        </tr>
        <tr>
        <td><b>Index type</b></td>
        <td>GisT</td>
        </tr>
        <tr>
        <td><b>Clustering</b></td>
        <td>No</td>
        </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for project names; GisT because the project description is dynamic.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
               CREATE INDEX search_project_description ON Project USING GIST (to_tsvector('english', description))
            </code>
            </td>
        </tr>
    </tbody>
</table>

<table>
    <tbody>
        <tr>
        <td><b>Index reference<b></td>
        <td>IDX04</td>
        </tr>
        <tr>
        <td><b>Related queries</b></td>
        <td>TODO: RELATED QUERIES</td>
        </tr>
        <tr>
        <td><b>Index relation</b></td>
        <td>Task</td>
        </tr>
        <tr>
        <td><b>Index attribute</b></td>
        <td>name</td>
        </tr>
        <tr>
        <td><b>Index type</b></td>
        <td>GIN</td>
        </tr>
        <tr>
        <td><b>Clustering</b></td>
        <td>No</td>
        </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for tasks; GIN because the updates in the task name are rare.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
               CREATE INDEX search_task_name ON Task USING GIN (to_tsvector('english', name))
            </code>
            </td>
        </tr>
    </tbody>
</table>

<table>
    <tbody>
        <tr>
        <td><b>Index reference<b></td>
        <td>IDX04</td>
        </tr>
        <tr>
        <td><b>Related queries</b></td>
        <td>TODO: RELATED QUERIES</td>
        </tr>
        <tr>
        <td><b>Index relation</b></td>
        <td>Task</td>
        </tr>
        <tr>
        <td><b>Index attribute</b></td>
        <td>description</td>
        </tr>
        <tr>
        <td><b>Index type</b></td>
        <td>GisT</td>
        </tr>
        <tr>
        <td><b>Clustering</b></td>
        <td>No</td>
        </tr>
        <tr>
        <td><b>Justification</b></td>
        <td>
        To improve performance of full text search while searching for tasks; GisT because the task description is dynamic.
        </td>
        </tr>
        <tr>
            <td><b>SQL Code</b></td>
            <td>
           <code sql>
               CREATE INDEX search_task_description ON Task USING GIST (to_tsvector('english', name))
            </code>
            </td>
        </tr>
    </tbody>
</table>

## 3. Triggers

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER01</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a User who Joined a Project can create Posts in it's Forum</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION insertPost() RETURNS TRIGGER AS
          $BODY$
          BEGIN
            IF NOT EXISTS (
              SELECT Joined.idJoined FROM Joined
              WHERE (new.idUser = idUser AND new.idProject = idProject))
            THEN
              RAISE EXCEPTION 'Only a user who joined a project can post in its forum.';
            ELSE
              INSERT INTO ForumPost(creationDate, lastEditDate, title, content, idProject, idUser)
              VALUES (new.creationDate, new.lastEditDate, new.title, new.content, new.idProject, new.idUser);
            END IF;
            RETURN NEW;
          END
          $BODY$
          LANGUAGE plpgsql;
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER02</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a User who Joined a Project can Reply in it's Forum</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.insertReply() RETURNS TRIGGER AS
          $BODY$
            BEGIN
              IF NOT EXISTS (
                SELECT idJoined FROM plenum.Joined, plenum.ForumPost
                WHERE (new.idPost = ForumPost.idPost AND ForumPost.idProject = Joined.idProject AND new.idUser = Joined.idUser))
              THEN
                RAISE EXCEPTION 'Only a user who joined a project can reply to posts in its forum.';
              ELSE
                INSERT INTO plenum.Reply(creationDate, lastEditDate, content, idPost, idUser)
                VALUES (new.creationDate, new.lastEditDate, new.content, new.idPost, new.idUser);
              END IF;
              RETURN NEW;
            END
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onCreateReply BEFORE INSERT ON plenum.Reply
          FOR EACH ROW
          EXECUTE PROCEDURE plenum.insertReply();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER03</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a user who has Joined a Project can create Comments for a Project Task</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.insertComent() RETURNS TRIGGER AS
          $BODY$
            BEGIN
              IF NOT EXISTS (
                SELECT idJoined FROM plenum.Joined, plenum.Task
                WHERE (new.idTask = Task.idTask AND Task.idProject = Joined.idProject AND new.idUser = Joined.idUser))
              THEN
                RAISE EXCEPTION 'Only a user who joined a project can create comments for a Project Task.';
              ELSE
                INSERT INTO plenum.Comment(creationDate, lastEditDate, idTask, idUser, idParent)
                VALUES (new.creationDate, new.lastEditDate, new.idTask, new.idUser, new.idParent);
              END IF;
              RETURN NEW;
            END;
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onCreateComment BEFORE INSERT ON plenum.Comment
          FOR EACH ROW
          EXECUTE PROCEDURE plenum.insertComent();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER04</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a User who was Assigned to a Task can create a Close Request for it.</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.insertCloseRequest() RETURNS TRIGGER AS
          $BODY$
            BEGIN
              IF NOT EXISTS (
                SELECT * FROM plenum.Assigned
                WHERE (new.idTask = Assigned.idTask AND new.idUser = Assigned.idUser))
              THEN
                RAISE EXCEPTION 'Only a user who joined a project can create comments for a Project Task.';
              ELSE
                INSERT INTO plenum.Comment(creationDate, lastEditDate, idTask, idUser, idParent)
                VALUES (new.creationDate, new.lastEditDate, new.idTask, new.idUser, new.idParent);
              END IF
          CREATE TRIGGER onCreateCloseRequest BEFORE INSERT ON plenum.CloseRequest
          FOR EACH ROW
          EXECUTE PROCEDURE plenum.insertCloseRequest();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER05</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a User who Joined a Project can create Tasks for It.</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.insertTask() RETURNS TRIGGER AS
          $BODY$
            BEGIN
              IF NOT EXISTS (
                SELECT Joined.idJoined FROM plenum.Joined
                WHERE (new.idUser = Joined.idUser AND new.idProject = Joined.idProject))
              THEN
                RAISE EXCEPTION 'Only a user who joined a project can create tasks for it.';
              ELSE
                INSERT INTO plenum.Task(creationDate, lastEditDate, title, description, deadline, completed, completetionDate, idUser, idProject)
                VALUES (new.creationDate, new.lastEditDate, new.title, new.description, new.deadline, new.completed, new.completetionDate, new.idUser, new.idProject);
              END IF;
              RETURN NEW;
            END;
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onCreateTask BEFORE INSERT ON plenum.Task
          FOR EACH ROW
          EXECUTE PROCEDURE plenum.insertTask();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER06</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>Only a User who Joined a Project can be assigned to it's Tasks.</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.insertAssigned() RETURNS TRIGGER AS
          $BODY$
            BEGIN
              IF NOT EXISTS (
                SELECT Joined.idJoined FROM plenum.Joined, plenum.Task
                WHERE (new.idUser = Joined.idUser AND new.idTask = Task.idTask AND Task.idProject = Joined.idProject))
              THEN
                RAISE EXCEPTION 'Only a user who joined a project can be assigned to its tasks.';
              ELSE
                INSERT INTO plenum.Assigned(idUser, idTask)
                VALUES (new.idUser, new.idTask);
              END IF;
              RETURN NEW;
            END;
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onCreateAssigned BEFORE INSERT ON plenum.Assigned
          FOR EACH ROW
          EXECUTE PROCEDURE plenum.insertAssigned();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER07</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>A Project can only be private while the Owner is a Premium User.</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.canProjectBePrivate() RETURNS TRIGGER AS
          $BODY$
            BEGIN
            IF NOT EXISTS (
              SELECT * FROM plenum.Joined, plenum.UserTable
              WHERE new.idProject = Joined.idProject AND Joined.role = 'Owner' AND Joined.idUser = UserTable.idUser AND UserTable.premium = true)
            THEN
              RAISE EXCEPTION 'A Project can only be private while the Owner is a Premium User.';
            ELSE
              INSERT INTO plenum.Project(idProject, creationDate, name, description, private)
              VALUES (new.idProject, new.creationDate, new.name, new.description, new.private);
            END IF;
            RETURN NEW;
            END;
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onCreateProject BEFORE INSERT OR UPDATE ON plenum.Project
          FOR EACH ROW
          WHEN (NEW.private IS TRUE)
          EXECUTE PROCEDURE plenum.canProjectBePrivate();
        </pre>
      </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><b>Trigger reference<b></td>
      <td>TRIGGER08</td>
    </tr>
    <tr>
      <td><b>Trigger description</b></td>
      <td>A Project can only be private while the Owner is a Premium User.</td>
    </tr>
    <tr>
      <td colspan="2">
        <pre>
          CREATE OR REPLACE FUNCTION plenum.updateUserTable() RETURNS TRIGGER AS
          $BODY$
            BEGIN
            IF EXISTS (
              SELECT * FROM plenum.Joined, plenum.Project
              WHERE new.idUser = Joined.idUser AND Joined.role = 'Owner' AND new.idProject = Joined.idProject AND new.idProject = Project.idProject AND Project.private = true)
            THEN
              RAISE EXCEPTION 'A Project can only be private while the Owner is a Premium User.';
            ELSE
              INSERT INTO plenum.UserTable(username, password, email, premium, banned, name, gender, address, institution, description, birthDate, idCountry)
              VALUES (new.username, new.password, new.email, new.premium, new.banned, new.name, new.gender, new.address, new.institution, new.description, new.birthDate, new.idCountry);
            END IF;
            RETURN NEW;
            END;
          $BODY$
          LANGUAGE plpgsql;

          CREATE TRIGGER onUpdateUser BEFORE INSERT OR UPDATE ON plenum.UserTable
          FOR EACH ROW
          WHEN (new.premium = false)
          EXECUTE PROCEDURE plenum.updateUserTable();
        </pre>
      </td>
    </tr>
  </tbody>
</table>


## 4. Complete SQL Code

```SQL
DROP SCHEMA IF EXISTS plenum CASCADE;
CREATE SCHEMA plenum;
SET search_path TO plenum,public;

/* every table should already be dropped, we are just making sure :) */
/* admin */
DROP TABLE IF EXISTS Admin;

/* UserTable */
DROP TABLE IF EXISTS UserTable;

/* premium signature*/
DROP TABLE IF EXISTS PremiumSignature;

/* country */
DROP TABLE IF EXISTS Country;

/* joined */
DROP TABLE IF EXISTS Joined;

/* project */
DROP TABLE IF EXISTS Project;

/* forum post*/
DROP TABLE IF EXISTS ForumPost;

/* reply */
DROP TABLE IF EXISTS Reply;

/* banned record */
DROP TABLE IF EXISTS BannedRecord;

/* task */
DROP TABLE IF EXISTS Task;

/* tag */
DROP TABLE IF EXISTS Tag;

/* tagged */
DROP TABLE IF Exists Tagged;

/* comment */
DROP TABLE IF EXISTS Comment;

/* completed task*/
DROP TABLE IF EXISTS Completed_Task;

/* close request */
DROP TABLE IF EXISTS CloseRequest;

/* edit task info */
DROP TABLE IF EXISTS EditTaskInfo;

/* assigned */
DROP TABLE IF EXISTS Assigned;

/* dropping old data types*/
DROP TYPE IF EXISTS gender;
DROP TYPE IF EXISTS role;

/* creating data types */
CREATE TYPE gender AS ENUM('Male', 'Female');
CREATE TYPE role AS ENUM('Owner' , 'Coordinator', 'Member');

/* country */
CREATE TABLE Country(
	idCountry serial PRIMARY KEY,
	name text UNIQUE NOT NULL
);

/* UserTable */
CREATE TABLE UserTable(
	idUser serial PRIMARY KEY,
	username text UNIQUE NOT NULL,
	password text NOT NULL,
	email text UNIQUE NOT NULL,
	gender gender,
	name text NOT NULL,
	address text,
	institution text,
	description text,
	birthDate date CONSTRAINT valid_date CHECK (birthdate < current_date),
	idCountry integer,
	FOREIGN KEY(idCountry) REFERENCES Country(idCountry)
);

/* premium signature */
CREATE TABLE PremiumSignature(
	idPremium serial PRIMARY KEY,
	startDate timestamp NOT NULL,
	duration  interval NOT NULL CHECK (duration > interval '0'),
	idUser integer,
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser)
);

/* project */
CREATE TABLE Project(
	idProject serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	name text NOT NULL,
	description text NOT NULL,
	private boolean NOT NULL
);

/* joined */
CREATE TABLE Joined(
	idUser integer,
	idProject integer,
	joinedDate timestamp NOT NULL,
	leftDate timestamp,
	role Role NOT NULL,
	PRIMARY KEY(idUser, idProject),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idProject) REFERENCES Project(idProject)
);

/* forum post */
CREATE TABLE ForumPost(
	idPost serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	lastEditDate timestamp,
	title text NOT NULL,
	content text NOT NULL,
	idProject integer NOT NULL,
	idUser integer NOT NULL,
	FOREIGN KEY(idProject) REFERENCES Project(idProject),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser)
);

/* reply */
CREATE TABLE Reply(
	idReply serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	lastEditDate timestamp,
	content text NOT NULL,
	idPost integer NOT NULL,
	idUser integer NOT NULL,
	FOREIGN KEY(idPost) REFERENCES ForumPost(idPost),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser)
);

/* task */
CREATE TABLE Task(
	idTask serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	lastEditDate timestamp,
	title text NOT NULL,
	description text,
	deadline timestamp,
	completed boolean NOT NULL,
	completedDate timestamp,
	idUser integer,
	idProject integer,
	CONSTRAINT completedDate_valid CHECK (completedDate > creationDate),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idProject) REFERENCES Project(idProject)
);

/* assigned */
CREATE TABLE Assigned(
	idUser integer,
	idTask integer,
	PRIMARY KEY(idUser, idTask),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idTask) REFERENCES Task(idTask)
);

/* edit task info */
CREATE TABLE EditTaskInfo(
	idUser integer,
	idTask integer,
	editDate timestamp NOT NULL,
	oldTitle text NOT NULL,
	oldDescription text,
	oldDeadline timestamp,
	PRIMARY KEY(idUser, idTask),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idTask) REFERENCES Task(idTask)
);

/* comment */
CREATE TABLE Comment(
	idComment serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	lastEditDate timestamp,
	content text NOT NULL,
	idTask integer NOT NULL,
	idUser integer NOT NULL,
	FOREIGN KEY(idTask) REFERENCES Task(idTask),
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser)
);

/* tag */
CREATE TABLE Tag(
	idTag serial PRIMARY KEY,
	name text UNIQUE NOT NULL
);

/* tagged */
CREATE TABLE Tagged(
	idTask integer,
	idTag integer,
	PRIMARY KEY(idTask, idTag),
	FOREIGN KEY(idTask) REFERENCES Task(idTask),
	FOREIGN KEY(idTag) REFERENCES Tag(idTag)
);

/* close request */
CREATE TABLE CloseRequest(
	idRequest serial PRIMARY KEY,
	creationDate timestamp NOT NULL,
	title text NOT NULL,
	description text,
	aproved boolean NOT NULL,
	idUser integer,
	idTask integer,
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idTask) REFERENCES Task(idTask)
);

/* Admin */
CREATE TABLE Admin(
	idAdmin serial PRIMARY KEY,
	username text UNIQUE NOT NULL,
	email text UNIQUE NOT NULL,
	password text NOT NULL
);

/* Banned record */
CREATE TABLE BannedRecord(
	idBan serial PRIMARY KEY,
	startDate timestamp NOT NULL,
	duration integer NOT NULL,
	motive text,
	idUser integer NOT NULL,
	idAdmin integer NOT NULL,
	FOREIGN KEY(idUser) REFERENCES UserTable(idUser),
	FOREIGN KEY(idAdmin) REFERENCES Admin(idAdmin),
	CONSTRAINT min_time check (duration > 0)
);
```
[Link to the SQL script included in the repository.](https://github.com/mpcmarques/lbaw1743/blob/master/database/plenum.sql)

```SQL
--Countries
insert into plenum.country (name) values ('Andorra');
insert into plenum.country (name) values ('United Arab Emirates');
insert into plenum.country (name) values ('Afghanistan');
insert into plenum.country (name) values ('Antigua and Barbuda');
insert into plenum.country (name) values ('Anguilla');
insert into plenum.country (name) values ('Albania');
insert into plenum.country (name) values ('Armenia');
insert into plenum.country (name) values ('Angola');
insert into plenum.country (name) values ('Antarctica');
insert into plenum.country (name) values ('Argentina');
insert into plenum.country (name) values ('American Samoa');
insert into plenum.country (name) values ('Austria');
insert into plenum.country (name) values ('Australia');
insert into plenum.country (name) values ('Aruba');
insert into plenum.country (name) values ('Åland Islands');
insert into plenum.country (name) values ('Azerbaijan');
insert into plenum.country (name) values ('Bosnia and Herzegovina');
insert into plenum.country (name) values ('Barbados');
insert into plenum.country (name) values ('Bangladesh');
insert into plenum.country (name) values ('Belgium');
insert into plenum.country (name) values ('Burkina Faso');
insert into plenum.country (name) values ('Bulgaria');
insert into plenum.country (name) values ('Bahrain');
insert into plenum.country (name) values ('Burundi');
insert into plenum.country (name) values ('Benin');
insert into plenum.country (name) values ('Saint Barthélemy');
insert into plenum.country (name) values ('Bermuda');
insert into plenum.country (name) values ('Brunei Darussalam');
insert into plenum.country (name) values ('Bolivia');
insert into plenum.country (name) values ('Caribbean Netherlands ');
insert into plenum.country (name) values ('Brazil');
insert into plenum.country (name) values ('Bahamas');
insert into plenum.country (name) values ('Bhutan');
insert into plenum.country (name) values ('Bouvet Island');
insert into plenum.country (name) values ('Botswana');
insert into plenum.country (name) values ('Belarus');
insert into plenum.country (name) values ('Belize');
insert into plenum.country (name) values ('Canada');
insert into plenum.country (name) values ('Cocos (Keeling) Islands');
insert into plenum.country (name) values ('Democratic Republic of Congo');
insert into plenum.country (name) values ('Central African Republic');
insert into plenum.country (name) values ('Congo');
insert into plenum.country (name) values ('Switzerland');
insert into plenum.country (name) values ('Côte d''Ivoire');
insert into plenum.country (name) values ('Cook Islands');
insert into plenum.country (name) values ('Chile');
insert into plenum.country (name) values ('Cameroon');
insert into plenum.country (name) values ('China');
insert into plenum.country (name) values ('Colombia');
insert into plenum.country (name) values ('Costa Rica');
insert into plenum.country (name) values ('Cuba');
insert into plenum.country (name) values ('Cape Verde');
insert into plenum.country (name) values ('Curaçao');
insert into plenum.country (name) values ('Christmas Island');
insert into plenum.country (name) values ('Cyprus');
insert into plenum.country (name) values ('Czech Republic');
insert into plenum.country (name) values ('Germany');
insert into plenum.country (name) values ('Djibouti');
insert into plenum.country (name) values ('Denmark');
insert into plenum.country (name) values ('Dominica');
insert into plenum.country (name) values ('Dominican Republic');
insert into plenum.country (name) values ('Algeria');
insert into plenum.country (name) values ('Ecuador');
insert into plenum.country (name) values ('Estonia');
insert into plenum.country (name) values ('Egypt');
insert into plenum.country (name) values ('Western Sahara');
insert into plenum.country (name) values ('Eritrea');
insert into plenum.country (name) values ('Spain');
insert into plenum.country (name) values ('Ethiopia');
insert into plenum.country (name) values ('Finland');
insert into plenum.country (name) values ('Fiji');
insert into plenum.country (name) values ('Falkland Islands');
insert into plenum.country (name) values (' Federated States of Micronesia');
insert into plenum.country (name) values ('Faroe Islands');
insert into plenum.country (name) values ('France');
insert into plenum.country (name) values ('Gabon');
insert into plenum.country (name) values ('United Kingdom');
insert into plenum.country (name) values ('Grenada');
insert into plenum.country (name) values ('Georgia');
insert into plenum.country (name) values ('French Guiana');
insert into plenum.country (name) values ('Guernsey');
insert into plenum.country (name) values ('Ghana');
insert into plenum.country (name) values ('Gibraltar');
insert into plenum.country (name) values ('Greenland');
insert into plenum.country (name) values ('Gambia');
insert into plenum.country (name) values ('Guinea');
insert into plenum.country (name) values ('Guadeloupe');
insert into plenum.country (name) values ('Equatorial Guinea');
insert into plenum.country (name) values ('Greece');
insert into plenum.country (name) values ('South Georgia and the South Sandwich Islands');
insert into plenum.country (name) values ('Guatemala');
insert into plenum.country (name) values ('Guam');
insert into plenum.country (name) values ('Guinea-Bissau');
insert into plenum.country (name) values ('Guyana');
insert into plenum.country (name) values ('Hong Kong');
insert into plenum.country (name) values ('Heard and McDonald Islands');
insert into plenum.country (name) values ('Honduras');
insert into plenum.country (name) values ('Croatia');
insert into plenum.country (name) values ('Haiti');
insert into plenum.country (name) values ('Hungary');
insert into plenum.country (name) values ('Indonesia');
insert into plenum.country (name) values ('Ireland');
insert into plenum.country (name) values ('Israel');
insert into plenum.country (name) values ('Isle of Man');
insert into plenum.country (name) values ('India');
insert into plenum.country (name) values ('British Indian Ocean Territory');
insert into plenum.country (name) values ('Iraq');
insert into plenum.country (name) values ('Iran');
insert into plenum.country (name) values ('Iceland');
insert into plenum.country (name) values ('Italy');
insert into plenum.country (name) values ('Jersey');
insert into plenum.country (name) values ('Jamaica');
insert into plenum.country (name) values ('Jordan');
insert into plenum.country (name) values ('Japan');
insert into plenum.country (name) values ('Kenya');
insert into plenum.country (name) values ('Kyrgyzstan');
insert into plenum.country (name) values ('Cambodia');
insert into plenum.country (name) values ('Kiribati');
insert into plenum.country (name) values ('Comoros');
insert into plenum.country (name) values ('Saint Kitts and Nevis');
insert into plenum.country (name) values ('North Korea');
insert into plenum.country (name) values ('South Korea');
insert into plenum.country (name) values ('Kuwait');
insert into plenum.country (name) values ('Cayman Islands');
insert into plenum.country (name) values ('Kazakhstan');
insert into plenum.country (name) values ('Lao People''s Democratic Republic');
insert into plenum.country (name) values ('Lebanon');
insert into plenum.country (name) values ('Saint Lucia');
insert into plenum.country (name) values ('Liechtenstein');
insert into plenum.country (name) values ('Sri Lanka');
insert into plenum.country (name) values ('Liberia');
insert into plenum.country (name) values ('Lesotho');
insert into plenum.country (name) values ('Lithuania');
insert into plenum.country (name) values ('Luxembourg');
insert into plenum.country (name) values ('Latvia');
insert into plenum.country (name) values ('Libya');
insert into plenum.country (name) values ('Morocco');
insert into plenum.country (name) values ('Monaco');
insert into plenum.country (name) values ('Moldova');
insert into plenum.country (name) values ('Montenegro');
insert into plenum.country (name) values ('Saint-Martin (France)');
insert into plenum.country (name) values ('Madagascar');
insert into plenum.country (name) values ('Marshall Islands');
insert into plenum.country (name) values ('Macedonia');
insert into plenum.country (name) values ('Mali');
insert into plenum.country (name) values ('Myanmar');
insert into plenum.country (name) values ('Mongolia');
insert into plenum.country (name) values ('Macau');
insert into plenum.country (name) values ('Northern Mariana Islands');
insert into plenum.country (name) values ('Martinique');
insert into plenum.country (name) values ('Mauritania');
insert into plenum.country (name) values ('Montserrat');
insert into plenum.country (name) values ('Malta');
insert into plenum.country (name) values ('Mauritius');
insert into plenum.country (name) values ('Maldives');
insert into plenum.country (name) values ('Malawi');
insert into plenum.country (name) values ('Mexico');
insert into plenum.country (name) values ('Malaysia');
insert into plenum.country (name) values ('Mozambique');
insert into plenum.country (name) values ('Namibia');
insert into plenum.country (name) values ('New Caledonia');
insert into plenum.country (name) values ('Niger');
insert into plenum.country (name) values ('Norfolk Island');
insert into plenum.country (name) values ('Nigeria');
insert into plenum.country (name) values ('Nicaragua');
insert into plenum.country (name) values ('The Netherlands');
insert into plenum.country (name) values ('Norway');
insert into plenum.country (name) values ('Nepal');
insert into plenum.country (name) values ('Nauru');
insert into plenum.country (name) values ('Niue');
insert into plenum.country (name) values ('New Zealand');
insert into plenum.country (name) values ('Oman');
insert into plenum.country (name) values ('Panama');
insert into plenum.country (name) values ('Peru');
insert into plenum.country (name) values ('French Polynesia');
insert into plenum.country (name) values ('Papua New Guinea');
insert into plenum.country (name) values ('Philippines');
insert into plenum.country (name) values ('Pakistan');
insert into plenum.country (name) values ('Poland');
insert into plenum.country (name) values ('St. Pierre and Miquelon');
insert into plenum.country (name) values ('Pitcairn');
insert into plenum.country (name) values ('Puerto Rico');
insert into plenum.country (name) values ('State of Palestine');
insert into plenum.country (name) values ('Portugal');
insert into plenum.country (name) values ('Palau');
insert into plenum.country (name) values ('Paraguay');
insert into plenum.country (name) values ('Qatar');
insert into plenum.country (name) values ('Réunion');
insert into plenum.country (name) values ('Romania');
insert into plenum.country (name) values ('Serbia');
insert into plenum.country (name) values ('Russian Federation');
insert into plenum.country (name) values ('Rwanda');
insert into plenum.country (name) values ('Saudi Arabia');
insert into plenum.country (name) values ('Solomon Islands');
insert into plenum.country (name) values ('Seychelles');
insert into plenum.country (name) values ('Sudan');
insert into plenum.country (name) values ('Sweden');
insert into plenum.country (name) values ('Singapore');
insert into plenum.country (name) values ('Saint Helena');
insert into plenum.country (name) values ('Slovenia');
insert into plenum.country (name) values ('Svalbard and Jan Mayen Islands');
insert into plenum.country (name) values ('Slovakia');
insert into plenum.country (name) values ('Sierra Leone');
insert into plenum.country (name) values ('San Marino');
insert into plenum.country (name) values ('Senegal');
insert into plenum.country (name) values ('Somalia');
insert into plenum.country (name) values ('Suriname');
insert into plenum.country (name) values ('South Sudan');
insert into plenum.country (name) values ('Sao Tome and Principe');
insert into plenum.country (name) values ('El Salvador');
insert into plenum.country (name) values ('Sint Maarten');
insert into plenum.country (name) values ('Syria');
insert into plenum.country (name) values ('Swaziland');
insert into plenum.country (name) values ('Turks and Caicos Islands');
insert into plenum.country (name) values ('Chad');
insert into plenum.country (name) values ('French Southern Territories');
insert into plenum.country (name) values ('Togo');
insert into plenum.country (name) values ('Thailand');
insert into plenum.country (name) values ('Tajikistan');
insert into plenum.country (name) values ('Tokelau');
insert into plenum.country (name) values ('Timor-Leste');
insert into plenum.country (name) values ('Turkmenistan');
insert into plenum.country (name) values ('Tunisia');
insert into plenum.country (name) values ('Tonga');
insert into plenum.country (name) values ('Turkey');
insert into plenum.country (name) values ('Trinidad and Tobago');
insert into plenum.country (name) values ('Tuvalu');
insert into plenum.country (name) values ('Taiwan');
insert into plenum.country (name) values ('Tanzania');
insert into plenum.country (name) values ('Ukraine');
insert into plenum.country (name) values ('Uganda');
insert into plenum.country (name) values ('United States Minor Outlying Islands');
insert into plenum.country (name) values ('United States');
insert into plenum.country (name) values ('Uruguay');
insert into plenum.country (name) values ('Uzbekistan');
insert into plenum.country (name) values ('Vatican');
insert into plenum.country (name) values ('Saint Vincent and the Grenadines');
insert into plenum.country (name) values ('Venezuela');
insert into plenum.country (name) values ('Virgin Islands (British)');
insert into plenum.country (name) values ('Virgin Islands (U.S.)');
insert into plenum.country (name) values ('Vietnam');
insert into plenum.country (name) values ('Vanuatu');
insert into plenum.country (name) values ('Wallis and Futuna Islands');
insert into plenum.country (name) values ('Samoa');
insert into plenum.country (name) values ('Yemen');
insert into plenum.country (name) values ('Mayotte');
insert into plenum.country (name) values ('South Africa');
insert into plenum.country (name) values ('Zambia');
insert into plenum.country (name) values ('Zimbabwe');

--Users
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('cvan0', '4jAtpsZY', 'cvan0@lycos.com', 'Male', 'Corney Van Schafflaer', '935 Tomscot Park', 'Zava', 'Quisque id justo sit amet sapien dignissim vestibulum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nulla dapibus dolor vel est. Donec odio justo, sollicitudin ut, suscipit a, feugiat et, eros.', '2000-02-08', 1);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('gtesto1', '3Jw68wOFCZIP', 'gtesto1@earthlink.net', 'Male', 'Gayler Testo', '4 Randy Center', 'Wikizz', 'Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.', '1997-05-24', 2);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('acartmer2', 'LZgP01WfKVX7', 'acartmer2@buzzfeed.com', 'Female', 'Aloise Cartmer', '31 Arapahoe Pass', 'Innojam', 'Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.', '1997-09-22', 3);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('ablasli3', 'Dcc1P1ndl', 'ablasli3@delicious.com', 'Female', 'Aloise Blasli', '3873 Sherman Terrace', 'Tagchat', 'Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Vivamus vestibulum sagittis sapien. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.', '1992-10-22', 4);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('madel4', 'LqbPMsUHStSX', 'madel4@ed.gov', 'Female', 'Myra Adel', '82937 Onsgard Terrace', 'Centizu', 'Phasellus in felis. Donec semper sapien a libero. Nam dui.', '1999-10-02', 5);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('sjailler5', 'yfhsQL', 'sjailler5@github.io', 'Female', 'Sheri Jailler', '9167 Graedel Trail', 'Talane', 'Integer ac leo. Pellentesque ultrices mattis odio. Donec vitae nisi.', '1994-05-19', 6);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('askirvane6', 'TgAeiP5yFT', 'askirvane6@123-reg.co.uk', 'Male', 'Alric Skirvane', '0222 Debra Trail', 'Jatri', 'Vestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.', '1991-10-29', 7);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('bmaylour7', 'GbH6caE', 'bmaylour7@google.fr', 'Female', 'Bunni Maylour', '81 Burrows Circle', 'Bluezoom', 'Nullam porttitor lacus at turpis. Donec posuere metus vitae ipsum. Aliquam non mauris.', '1992-09-07', 8);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('jklimashevich8', 'mRTJTe3G', 'jklimashevich8@sphinn.com', 'Female', 'Johnath Klimashevich', '7689 Oriole Crossing', 'Quaxo', 'Vestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.', '1996-06-21', 9);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('tcullagh9', 'hCDirTpBU8A', 'tcullagh9@marriott.com', 'Male', 'Templeton Cullagh', '2264 Di Loreto Alley', 'Wordware', 'Proin interdum mauris non ligula pellentesque ultrices. Phasellus id sapien in sapien iaculis congue. Vivamus metus arcu, adipiscing molestie, hendrerit at, vulputate vitae, nisl.', '1995-03-25', 10);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('pkarpea', 'Lfr5UXUx', 'pkarpea@vk.com', 'Female', 'Pauly Karpe', '99 Milwaukee Alley', 'Twiyo', 'Curabitur at ipsum ac tellus semper interdum. Mauris ullamcorper purus sit amet nulla. Quisque arcu libero, rutrum ac, lobortis vel, dapibus at, diam.', '1997-02-27', 11);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('hthorsbyb', 'X009rkG', 'hthorsbyb@hc360.com', 'Male', 'Hugh Thorsby', '3349 Holy Cross Plaza', 'Skiba', 'Maecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.', '1998-01-13', 12);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('gbenechc', 'kX04ckWux', 'gbenechc@sina.com.cn', 'Male', 'Giraldo Benech', '40180 La Follette Plaza', 'Kwideo', 'Praesent id massa id nisl venenatis lacinia. Aenean sit amet justo. Morbi ut odio.', '1995-11-14', 13);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('hdalld', 'RHkOfnA', 'hdalld@blogtalkradio.com', 'Male', 'Hamid Dall', '7086 Montana Place', 'Edgepulse', 'Proin leo odio, porttitor id, consequat in, consequat ut, nulla. Sed accumsan felis. Ut at dolor quis odio consequat varius.', '1991-06-29', 14);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('hkenninghane', 'e3fbqu', 'hkenninghane@cnet.com', 'Male', 'Hewet Kenninghan', '20 Arizona Hill', 'Chatterpoint', 'Donec diam neque, vestibulum eget, vulputate ut, ultrices vel, augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec pharetra, magna vestibulum aliquet ultrices, erat tortor sollicitudin mi, sit amet lobortis sapien sapien non mi. Integer ac neque.', '1997-10-18', 15);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('deggintonf', 'vPgfLvqQt', 'deggintonf@feedburner.com', 'Male', 'Delbert Egginton', '7124 Helena Place', 'Yozio', 'Quisque porta volutpat erat. Quisque erat eros, viverra eget, congue eget, semper rutrum, nulla. Nunc purus.', '1996-07-13', 16);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('tcochraneg', 'Zel43XQ', 'tcochraneg@virginia.edu', 'Female', 'Terrie Cochrane', '663 Shelley Trail', 'Yotz', 'Quisque id justo sit amet sapien dignissim vestibulum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nulla dapibus dolor vel est. Donec odio justo, sollicitudin ut, suscipit a, feugiat et, eros.', '1998-04-22', 17);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('lkinzeh', 'FJWEo7EJ9hlj', 'lkinzeh@topsy.com', 'Male', 'Lucien Kinze', '2 Macpherson Terrace', 'Divape', 'Pellentesque at nulla. Suspendisse potenti. Cras in purus eu magna vulputate luctus.', '1999-04-10', 18);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('soldalei', 'GEIAXzUa', 'soldalei@hexun.com', 'Female', 'Shannah Oldale', '1 Algoma Pass', 'Bluezoom', 'Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.', '1994-10-14', 19);
insert into plenum.usertable (username, password, email, gender, name, address, institution, description, birthDate, idCountry) values ('charstonj', 'qSktpJ0wB', 'charstonj@microsoft.com', 'Male', 'Cornell Harston', '2 Charing Cross Avenue', 'Rhynyx', 'Nullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.', '1995-06-01', 20);


--PremiumSignature
insert into plenum.premiumsignature (startDate, duration, idUser) values ('2017-02-25', '2017-10-19', 1);
insert into plenum.premiumsignature (startDate, duration, idUser) values ('2018-03-13', '2017-09-22', 2);
insert into plenum.premiumsignature (startDate, duration, idUser) values ('2017-02-07', '2018-03-12', 3);
insert into plenum.premiumsignature (startDate, duration, idUser) values ('2018-03-22', '2017-09-14', 4);
insert into plenum.premiumsignature (startDate, duration, idUser) values ('2017-10-11', '2017-04-09', 5);

--Project
insert into premium.project (creationDate, name, description, private) values ('2018-03-05', 'Tin', 'Maecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.', true);
insert into premium.project (creationDate, name, description, private) values ('2018-03-03', 'Treeflex', 'Aenean fermentum. Donec ut mauris eget massa tempor convallis. Nulla neque libero, convallis eget, eleifend luctus, ultricies eu, nibh.', true);
insert into premium.project (creationDate, name, description, private) values ('2018-03-18', 'Sub-Ex', 'In sagittis dui vel nisl. Duis ac nibh. Fusce lacus purus, aliquet at, feugiat non, pretium quis, lectus.', false);
insert into premium.project (creationDate, name, description, private) values ('2018-03-14', 'Bamity', 'Pellentesque at nulla. Suspendisse potenti. Cras in purus eu magna vulputate luctus.', false);
insert into premium.project (creationDate, name, description, private) values ('2018-02-09', 'Voltsillam', 'Suspendisse potenti. In eleifend quam a odio. In hac habitasse platea dictumst.', true);

--Joined
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (1, 1, '2017-10-22', '2017-04-22', 'Owner');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (2, 2, '2017-11-07', '2017-12-18', 'Owner');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (3, 3, '2017-06-21', '2017-05-09', 'Owner');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (4, 4, '2018-03-06', '2017-04-13', 'Owner');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (5, 5, '2017-07-19', '2017-08-01', 'Owner');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (6, 1, '2017-09-22', '2017-11-13', 'Member');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (7, 2, '2017-04-27', '2017-11-18', 'Member');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (8, 3, '2017-04-27', '2018-01-13', 'Member');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (9, 4, '2018-01-03', '2018-01-09', 'Coordinator');
insert into plenum.joined (idUser, idProject, joinedDate, leftDate, role) values (10, 5, '2017-06-29', '2017-11-09', 'Coordinator');

--ForumPost
insert into plenum.forumpost (creationDate, lastEditDate, title, content, idProject, idUser) values ('2017-04-17', '2018-01-17', 'Enhanced global customer loyalty', 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.', 1, 1);
insert into plenum.forumpost (creationDate, lastEditDate, title, content, idProject, idUser) values ('2017-04-06', '2017-07-15', 'Triple-buffered secondary product', 'Nullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.', 2, 2);
insert into plenum.forumpost (creationDate, lastEditDate, title, content, idProject, idUser) values ('2017-06-19', '2018-02-25', 'Devolved dynamic structure', 'Fusce posuere felis sed lacus. Morbi sem mauris, laoreet ut, rhoncus aliquet, pulvinar sed, nisl. Nunc rhoncus dui vel sem.', 3, 3);
insert into plenum.forumpost (creationDate, lastEditDate, title, content, idProject, idUser) values ('2018-02-23', '2017-12-29', 'Automated bottom-line challenge', 'Sed ante. Vivamus tortor. Duis mattis egestas metus.', 4, 4);
insert into plenum.forumpost (creationDate, lastEditDate, title, content, idProject, idUser) values ('2017-06-18', '2017-10-27', 'Re-contextualized multi-tasking process improvement', 'Integer tincidunt ante vel ipsum. Praesent blandit lacinia erat. Vestibulum sed magna at nunc commodo placerat.', 5, 5);

--Reply
insert into plenum.reply (creationDate, lastEditDate, content, idPost, idUser) values ('2017-04-30', '2018-03-16', 'Duis bibendum, felis sed interdum venenatis, turpis enim blandit mi, in porttitor pede justo eu massa. Donec dapibus. Duis at velit eu est congue elementum.', 1, 6);
insert into plenum.reply (creationDate, lastEditDate, content, idPost, idUser) values ('2018-03-21', '2017-07-03', 'Maecenas ut massa quis augue luctus tincidunt. Nulla mollis molestie lorem. Quisque ut erat.', 2, 7);
insert into plenum.reply (creationDate, lastEditDate, content, idPost, idUser) values ('2017-04-12', '2017-05-07', 'Maecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.', 3, 8);
insert into plenum.reply (creationDate, lastEditDate, content, idPost, idUser) values ('2017-09-23', '2017-09-19', 'Integer ac leo. Pellentesque ultrices mattis odio. Donec vitae nisi.', 4, 9);
insert into plenum.reply (creationDate, lastEditDate, content, idPost, idUser) values ('2017-08-09', '2017-11-08', 'Fusce consequat. Nulla nisl. Nunc nisl.', 5, 10);

--Task
insert into plenum.task (creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) values ('2017-07-05', '2017-04-15', 'Customizable neutral circuit', 'Sed ante. Vivamus tortor. Duis mattis egestas metus.', '2018-05-04', true, '2018-05-13', 1, 1);
insert into plenum.task (creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) values ('2017-06-18', '2017-08-19', 'De-engineered multi-state structure', 'Vestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.', '2018-05-01', false, NULL, 2, 2);
insert into plenum.task (creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) values ('2017-06-29', '2017-06-25', 'Face to face foreground migration', 'Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.', '2018-05-20', false, NULL, 3, 3);
insert into plenum.task (creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) values ('2018-01-19', '2017-04-25', 'Polarised secondary challenge', 'Curabitur at ipsum ac tellus semper interdum. Mauris ullamcorper purus sit amet nulla. Quisque arcu libero, rutrum ac, lobortis vel, dapibus at, diam.', '2018-05-25', true, '2018-05-29', 4, 4);
insert into plenum.task (creationDate, lastEditDate, title, description, deadline, completed, completedDate, idUser, idProject) values ('2017-03-25', '2017-05-29', 'Multi-tiered upward-trending hardware', 'Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.', '2018-05-08', false, NULL, 5, 5);

--Assigned
insert into plenum.assigned (idUser, idTask) values (1, 1);
insert into plenum.assigned (idUser, idTask) values (2, 2);
insert into plenum.assigned (idUser, idTask) values (3, 3);
insert into plenum.assigned (idUser, idTask) values (4, 4);
insert into plenum.assigned (idUser, idTask) values (5, 5);

--EditTaskInfo

--Comment
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2018-01-12', '2017-09-12', 'Quisque porta volutpat erat. Quisque erat eros, viverra eget, congue eget, semper rutrum, nulla. Nunc purus.', 1, 1);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2017-04-03', '2017-05-07', 'Aenean lectus. Pellentesque eget nunc. Donec quis orci eget orci vehicula condimentum.', 2, 2);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2017-10-01', '2017-04-24', 'Maecenas ut massa quis augue luctus tincidunt. Nulla mollis molestie lorem. Quisque ut erat.', 3, 3);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2017-09-25', '2018-03-12', 'Proin interdum mauris non ligula pellentesque ultrices. Phasellus id sapien in sapien iaculis congue. Vivamus metus arcu, adipiscing molestie, hendrerit at, vulputate vitae, nisl.', 4, 4);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2017-07-12', '2017-07-10', 'Nulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.', 5, 5);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2018-03-02', '2017-07-19', 'Morbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.', 6, 6);
insert into plenum.comment (creationDate, lastEditDate, content, idTask, idUser) values ('2017-10-01', '2017-12-27', 'Duis bibendum, felis sed interdum venenatis, turpis enim blandit mi, in porttitor pede justo eu massa. Donec dapibus. Duis at velit eu est congue elementum.', 7, 7);

--Tag
insert into plenum.tag (name) values ('full-range');
insert into plenum.tag (name) values ('moderator');
insert into plenum.tag (name) values ('capability');
insert into plenum.tag (name) values ('success');
insert into plenum.tag (name) values ('support');
insert into plenum.tag (name) values ('multi-tasking');
insert into plenum.tag (name) values ('interactive');
insert into plenum.tag (name) values ('moratorium');
insert into plenum.tag (name) values ('contextually-based');
insert into plenum.tag (name) values ('system engine');

--Tagged
insert into plenum.tagged (idTask, idTag) values (1, 1);
insert into plenum.tagged (idTask, idTag) values (2, 2);
insert into plenum.tagged (idTask, idTag) values (3, 3);
insert into plenum.tagged (idTask, idTag) values (4, 4);
insert into plenum.tagged (idTask, idTag) values (5, 5);

--CloseRequest
insert into plenum.closerequest (creationDate, title, description, aproved, idUser, idTask) values ('2017-11-04', 'Distributed demand-driven forecast', 'Pellentesque at nulla. Suspendisse potenti. Cras in purus eu magna vulputate luctus.', false, 1, 1);
insert into plenum.closerequest (creationDate, title, description, aproved, idUser, idTask) values ('2017-10-02', 'Progressive upward-trending hierarchy', 'Quisque porta volutpat erat. Quisque erat eros, viverra eget, congue eget, semper rutrum, nulla. Nunc purus.', false, 2, 2);
insert into plenum.closerequest (creationDate, title, description, aproved, idUser, idTask) values ('2018-01-06', 'Switchable leading edge pricing structure', 'Vestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.', false, 3, 3);
insert into plenum.closerequest (creationDate, title, description, aproved, idUser, idTask) values ('2018-03-11', 'Digitized high-level analyzer', 'Nulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.', false, 4, 4);
insert into plenum.closerequest (creationDate, title, description, aproved, idUser, idTask) values ('2017-09-14', 'Profit-focused demand-driven workforce', 'Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.', true, 5, 5);

--Admin
insert into plenum.admin (username, email, password) values ('barbosa','up201503477@fe.up.pt' ,'03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4');
insert into plenum.admin (username, email, password) values ('mario','up201503406@fe.up.pt' ,'03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4');
insert into plenum.admin (username, email, password) values ('mateus','up201601876@fe.up.pt' ,'03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4');
insert into plenum.admin (username, email, password) values ('jotapsa','up201506252@fe.up.pt' ,'03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4');

--BannedRecord
insert into plenum.bannedrecord (startDate, duration, motive, idUser, idAdmin) values ('2017-07-06', 3, 'Nulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.', 6, 1);
```
[Link to the SQL script included in the repository.](https://github.com/mpcmarques/lbaw1743/blob/master/database/inserts.sql)

## Revision history

Changes made to the first submission:
1. Item 1
1. Item 2

***

GROUP17xx, xx/xx/2018

> Mateus Pedroza Cortes Marques, up201601876@fe.up.pt
> Bernardo Manuel Costa Barbosa, up201503477@fe.up.pt
> João Pedro Teixeira Pereira de Sá, up201506252@fe.up.pt
> Mário Rui Macedo Flores dos Santos, up201503406@fe.up.pt
